# ORIENT

## Directories and Files      

- Conv-Model/
  - weights of Feature Extractor to load
  - used in the experiments for models both wo/ ORIENT and w/ ORIENT
- RESULT_AAAI2026/
  - work directory for logs generated by programs
- RESULT.sav/
  - directory containing logs of experiments in the paper
  - including the model used in the experiment 'Rank Decreasing'
- scripts/
  - scripts for experiments
- src/
  - source code (modified version of FACIL)
- sow_cpp-0.9.5-cp39-cp39-linux_x86_64.whl
  - python package of ORIENT

## Logs of experiments describe in the paper are backed-up in the followin directories.      

(1) Full-Rank Training      

   - w/o ORIENT: RESULT.sav/CR1/0/cifar100_finetuning/stdout-2025-07-29-17-11.txt
   - w/  ORIENT: RESULT.sav/CR1/0/cifar100_sow/stdout-2025-07-29-18-20.txt
      
(2) Rank Decreasing       
   - RESULT.sav/CR10/0/cifar100_sow/stdout-2025-07-05-03-13.txt
      
(3) Rank Decreasing       
   - w/o ORIENT: RESULT.sav/CR10/0/cifar100_finetuning/stdout-2025-06-29-19-14.txt
   - w/  ORIENT: RESULT.sav/CR10/0/cifar100_sow/stdout-2025-07-05-03-13.txt

## Setup      
### user shell must be 'csh'.

(1) install virtual torch environment in $(Your_Dir)        

	/usr/bin/csh
	cd $(TOP)
	python3 -m venv .venv
	source .venv/bin/activate.csh
	python3 -c 'import sys; print("\n".join(sys.path))'
	pip install -U pip
	pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu128
	pip install matplotlib scipy pynvml
    
(2) install 'sow_cpp' package in your virtual environment    

	cd $(TOP)
	/bin/csh
	source .venv/bin/activate.csh
	pip install sow_cpp-0.9.5-cp39-cp39-linux_x86_64.whl
	cat .venv/lib/python3.9/site-packages/sow_cpp-0.9.5.dist-info/METADATA    (not mandatory)
    
(3) setup initial weights of ORIENT (already done in this this GIT)    

	/usr/bin/csh
	cd $(TOP)
	source .venv/bin/activate.csh
	cd src
	mkdir networks/INIT
	python save_tbl.py ${gpu} 10
	python save_S.py ${gpu} 10
	python save_V.py ${gpu} 10 512 20 0.90 1.0
	python save_U.py ${gpu} 10 512 20 0.90 1.0
	python save_init_data.py ${gpu} 10
    
(4) setup Log Directory(already exists in this GIT)          

	cd $(TOP)
	mkdir RESULT_AAAI2025/

## How to conduct experiments.      

### user shell must be 'csh'.

### Full-Rank Training (Fig.10 in rhe paper)

(1) For the model with Fully-Connected Layer

	/usr/bin/csh
	cd $(TOP)
	source .venv/bin/activate.csh
	cd scripts
	./full_rank_fc.csh {gpu}

(2) For the model with ORIENT

	cd $(TOP)
	source .venv/bin/activate.csh
	cd scripts
	./full_rank_sow.csh {gpu}

### Rank Decreasing (Fig.11 in the paper)

- Requirements
  - the model "RESULT_AAAI2026/CR1/0/cifar100_sow/models/task0.ckpt" is needed.
    - The above model should be made by "$(TOP)/script/full_rank_sow.csh"
    - the model is backed up at "RESULT.sav/CR1/0/cifar100_sow/models/task0.ckpt"


    
~~~
cd $(TOP)
source .venv/bin/activate.csh
cd scripts
./rank_control_sow.csh {gpu}
~~~

### Continual Learning (Rank Increasing)

(1) For the model with Fully-Connected Layer

	cd $(TOP)
	source .venv/bin/activate.csh
	cd scripts
	./aaai2026_fc.csh {gpu}

(2) For the model with ORIENT    

	cd $(TOP)
	source .venv/bin/activate.csh
	cd scripts
	./aaai2026_sow.csh {gpu}

